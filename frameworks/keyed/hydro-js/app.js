window.requestIdleCallback=window.requestIdleCallback||((e,t,n=performance.now())=>setTimeout(e,0,{didTimeout:!1,timeRemaining:()=>Math.max(0,5-(performance.now()-n))}));var et=(()=>{let e=document.createRange();return e.selectNodeContents(e.createContextualFragment("<template>").lastChild),e.createContextualFragment.bind(e)})(),w=new WeakMap,_=new WeakMap,g=new WeakMap,p=new WeakMap,H=new WeakMap,h=new WeakMap,b=new WeakMap,U=new WeakMap,j=new WeakSet,ae=Symbol("boundFunctions"),Z=!0,C=!0,D=!1;var L=!1,Pe=/\{\{([^]*?)\}\}/;var we=/\n/g,ke=/[\.\[\]]/,k=/^on/,We=["allowfullscreen","async","autofocus","autoplay","checked","controls","draggable","default","defer","disabled","formnovalidate","hidden","ismap","itemscope","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","selected","spellcheck"],ue=null,ee=!1;function m(e){return e!=null&&typeof e=="object"}function E(e){return typeof e=="function"}function S(e){return e.splitText!==void 0}function W(e){return e instanceof Node}function N(e){return e.nodeName!=="svg"&&"getElementById"in e}function v(e){return m(e)&&"event"in e&&"options"in e}function M(e){return Reflect.get(e,"isProxy")}function de(e){return m(e)&&typeof e.then=="function"}function ve(){return Math.random().toString(32).slice(2)}function ge(e){C=e}function T(e,t,n){return We.includes(t)&&!n?(e.removeAttribute(t),!1):(e.setAttribute(t,n),!0)}function K(e,t,n){e.addEventListener(t,E(n)?n:n.event,E(n)?{}:n.options)}function x(e,t,...n){if(E(e))return e({...t,children:n});let o=n.map($e).flat(),i=document.createElement(e);for(let s in t)s in i?i[s]=t[s]:T(i,s,t[s]);return i.append(...o),L?He(J,i,i):J(i),i}function $e(e){return m(e)&&!W(e)?Object.values(e):e}function J(e,t){if(S(e)&&!j.has(e)){j.add(e),z(e);return}let n=[...e.querySelectorAll("*")].reverse();N(e)||n.push(e);for(let o of n){if(j.has(o))return;j.add(o);let i=o.firstChild;for(;i;)S(i)&&z(i),i=i.nextSibling;for(let s of o.getAttributeNames())if(t&&s.startsWith("on")){let c=s.replace(k,""),l=t[o.getAttribute(s)];if(!l){z(o,s);return}o.removeAttribute(s),v(l)?(o.addEventListener(c,l.event,l.options),_.has(o)?_.get(o).push(l.event):_.set(o,[l.event])):(o.addEventListener(c,l),_.has(o)?_.get(o).push(l):_.set(o,[l]))}else z(o,s)}}function z(e,t){let n,o;for(S(e)?n=e.nodeValue:(n=e.getAttribute(t),n===""&&(n=t,n.startsWith("{{")&&e.removeAttribute(n)));o=n.match(Pe);){let[i,s]=o,c=s.trim().replace(we,"").split(ke).filter(Boolean),[l,f]=$(c),r=c[c.length-1],u=o.index,d=u+String(l).length;if(W(l)){e.nodeValue=n.replace(i,""),e.after(l),te(u,d,l,r,f,t);return}if(S(e)){let a=m(l)?JSON.stringify(l):l??"";n=n.replace(i,a),n!=null&&(e.nodeValue=n)}else if(t==="bind"){n=n.replace(i,""),e.removeAttribute(t);let a=m(l)&&M(l)?l:f;p.has(a)?p.get(a).push(e):p.set(a,[e]);continue}else if(t==="two-way")e instanceof HTMLTextAreaElement||e instanceof HTMLInputElement&&e.type==="text"?(e.value=l,B("input",e,f,r)):e instanceof HTMLSelectElement?(e.value=l,B("change",e,f,r)):e instanceof HTMLInputElement&&e.type==="radio"?(e.checked=e.value===l,B("change",e,f,r)):e instanceof HTMLInputElement&&e.type==="checkbox"&&(e.checked=l,B("change",e,f,r,!0)),n=n.replace(i,""),e.setAttribute("two-way","");else if(E(l)||v(l))n=n.replace(i,""),e.removeAttribute(t),K(e,t.replace(k,""),l);else if(m(l)){for(let[a,R]of Object.entries(l))n=n.replace(i,""),E(R)||v(R)?K(e,a.replace(k,""),R):(r=a,T(e,a,R)?d=u+String(R).length:d=u),te(u,d,e,r,l,a);continue}else n=n.replace(i,l),T(e,t,n===String(l)?l:n)||(n=n.replace(l,""));te(u,d,e,r,f,t)}}function B(e,t,n,o,i=!1){t.addEventListener(e,s),oe(()=>t.removeEventListener(e,s),t);function s({target:c}){Reflect.set(n,o,i?c.checked:c.value)}}function te(e,t,n,o,i,s){let c=[e,t,s],l=[c];if(w.has(n)?w.get(n).push(c):w.set(n,l),g.has(i)){let f=g.get(i),r=f.get(o);r?r.has(n)?r.get(n).push(c):(r.set(l,n),r.set(n,l)):f.set(o,new Map([[l,n],[n,l]]))}else g.set(i,new Map([[o,new Map([[l,n],[n,l]])]]))}function $(e){let t,n;t=n=P;for(let o of e)n=t,t=Reflect.get(n,o);return[t,n]}function ne(e,t,n){let o=[],i=[];if(S(e))return h.has(e)&&o.push(h.get(e)),b.has(e)&&o.push(b.get(e)),h.has(t)&&i.push(h.get(t)),b.has(t)&&i.push(b.get(t)),!(o.length!==i.length||String(o)!==String(i));if(_.has(e)&&o.push(..._.get(e)),_.has(t)&&i.push(..._.get(t)),h.has(e)&&o.push(h.get(e)),b.has(e)&&o.push(b.get(e)),h.has(t)&&i.push(h.get(t)),b.has(t)&&i.push(b.get(t)),o.length!==i.length||String(o)!==String(i))return!1;for(let s=0;s<e.childNodes.length;s++)if(n){if(S(e.childNodes[s])&&!ne(e.childNodes[s],t.childNodes[s],n))return!1}else if(!ne(e.childNodes[s],t.childNodes[s]))return!1;return!0}function pe(e,t,n){return N(e)||N(t)?!1:e.isEqualNode(t)&&ne(e,t,n)}function se(e,t="",n=Z){if(n)return F(se,e,t,!1),he(e);Reflect.get(e,"reactive")&&(e=O(e));let o=[];if(N(e)&&(o=Array.from(e.childNodes),U.set(e,o)),!t)document.body.append(e);else{if(typeof t=="string"){let i=Y(t);if(i)t=i;else return qe}C?S(e)?G(e,t):pe(e,t)||Ve(e,t):G(e,t)}A(e,h);for(let i of o)A(i,h);return he(N(e)?o:e)}function qe(){}function ie(e,t){if(t.has(e)){let n=t.get(e);L?F(n):Z?window.requestIdleCallback(n):n(),t.delete(e)}}function A(e,t){if(t===h&&!Se||t===b&&!_e)return;ie(e,t);let n=document.createNodeIterator(e,NodeFilter.SHOW_ELEMENT),o;for(;o=n.nextNode();){ie(o,t);let i=o.firstChild;for(;i;)S(i)&&ie(i,t),i=i.nextSibling}}function Fe(e,t){for(let[n,o]of e.entries())for(let i=0;i<o.length;i++){let s=o[i];(t.contains(s)||t.isSameNode(s))&&(o.splice(i,1),i--),o.length===0&&e.delete(n)}}function Ve(e,t){let n=[...e.querySelectorAll("*")];N(e)||n.unshift(e);let o=[];S(t)||(o=[...t.querySelectorAll("*")],N(t)||o.unshift(t));let i;D&&(i=document.createElement("template"),t===document.documentElement?t.append(i):N(t)?U.get(t)[0].before(i):t.before(i),i.append(e));let s=new Map;for(let c of o){if(D&&c===i)return;s.has(c.localName)?s.get(c.localName).push(c):s.set(c.localName,[c])}for(let c of n){let l=s.get(c.localName);if(l){for(let f of l)if(pe(c,f,!0)){c.replaceWith(f),A(c,b),Fe(s,f);break}}}if(D){let c=N(e)?Array.from(i.childNodes):[e];if(N(t)){let l=U.get(t);for(let f of c)l[0].before(f);for(let f of l)f.remove()}else t.replaceWith(...c);i.remove(),A(t,b)}else G(e,t);s.clear()}function G(e,t){if(N(t)){let n=U.get(t);if(N(e)){let o=Array.from(e.childNodes);for(let i=0;i<n.length;i++){let s=n[i];i<o.length?se(o[i],s):s.remove()}}else for(let o=0;o<n.length;o++){let i=n[o];o===0?se(e,i):i.remove()}}else t.replaceWith(e);A(t,b)}function he(e){return Array.isArray(e)?()=>e.forEach(q):()=>q(e)}function q(e){e.isConnected&&(e.remove(),A(e,b))}function F(e,...t){navigator.scheduling?navigator.scheduling.isInputPending()?setTimeout(F,0,e,...t):e(...t):window.requestIdleCallback(()=>e(...t))}function X(e){let t;do t=ve();while(Reflect.has(P,t));Reflect.set(P,t,e),Reflect.set(o,"reactive",!0);let n=me(o,[t]);return n;function o(i){let s=(this&&Reflect.get(this,"reactive")?this:n).__keys__,[c,l]=$(s),f=s[s.length-1];if(E(i)){let r=i(c);if(c===r)return;Reflect.set(l,f,r??c)}else Reflect.set(l,f,i)}}function me(e,t){return new Proxy(e,{get(n,o,i){return o==="reactive"?!0:o==="__keys__"?t:o===Symbol.toPrimitive?()=>`{{${t.join(".")}}}`:me(n,[...t,o])}})}function be(e){let t=e.__keys__;return[t[t.length-1],t.length===1]}function le(e){let[t,n]=be(e);if(n)Reflect.set(P,t,null);else{let[o,i]=$(e.__keys__);Reflect.set(i,t,null)}}function Ee(e,t){let[n,o]=be(e);if(o)P.observe(n,t);else{let[i,s]=$(e.__keys__);s.observe(n,t)}}function ye(e,t,n,o=e){let i=c=>(!Reflect.get(e,"reactive")&&E(e)?e(c):de(c)?!1:c)?E(t)?t():t:E(n)?n():n,s=X(i(O(o)));return Ee(o,c=>{c===null?le(s):s(i(c))}),s}var Re=!1,Ne=new Set,I=new WeakMap,tt=new WeakMap;function O(e){let[t]=$(Reflect.get(e,"__keys__"));return t}var Se=!1;function He(e,t,...n){Se=!0,h.set(t,n.length?e.bind(e,...n):e)}var _e=!1;function oe(e,t,...n){_e=!0,b.set(t,n.length?e.bind(e,...n):e)}function ce(e={}){let t=Symbol("handlers"),n=new WeakMap,o=new Proxy(e,{set(i,s,c,l){Re&&(Ne.add(l),I.has(l)?I.get(l).add(s):I.set(l,new Set([s])));let f=!0,r=Reflect.get(i,s,l);if(r===c)return f;if(c===null){if(g.has(l)){let a=g.get(l);a.delete(String(s)),a.size===0&&g.delete(l)}let d=Reflect.get(i,t,l);if(d.has(s)){let a=d.get(s);for(let R of a)R(null,r);a.clear(),l.unobserve(s)}return m(r)&&M(r)?(g.delete(r),p.has(r)&&(p.get(r).forEach(q),p.delete(r))):p.has(l)&&(p.get(l).forEach(q),p.delete(l)),!ee&&Array.isArray(l)?(l.splice(Number(s),1),f):Reflect.deleteProperty(l,s)}else if(Array.isArray(r)&&Array.isArray(c)&&c.length===0){Reflect.get(i,t,l).get(s)?.forEach(a=>a(c,r)),ee=!0;let d=r.length;for(let a=0;a<d;a++){let R=l[s][a];m(R)&&M(R)&&(l[s][a]=null)}ee=!1}if(de(c))return c.then(a=>{l[s]=a}).catch(a=>{console.error(a),l[s]=null}),f=Reflect.set(i,s,c,l),f;if(W(c))f=Reflect.set(i,s,c,l);else if(m(c)&&!M(c)){f=Reflect.set(i,s,ce(c),l);for(let[d,a]of Object.entries(c))m(a)&&!M(a)&&Reflect.set(c,d,ce(a))}else if(!C&&Array.isArray(l)&&l.includes(r)&&l.includes(c)&&p.has(c)){let[d]=p.get(c);if(ue!==d){let[a]=p.get(r);ue=a;let R=d.previousSibling,Te=a.previousSibling,Ie=l.findIndex(Oe=>Oe===c);l.splice(Number(s),1,c),l.splice(Ie,1,r),R.after(a),Te.after(d)}return!0}else f=Reflect.set(i,s,c,l);let u=Reflect.get(i,s,l);return g.has(r)?xe(r,s,u,r):g.has(l)&&xe(l,s,u,r),m(c)&&M(c)&&g.has(r)&&(C&&H.set(r,g.get(r)),H.has(c)?(g.set(r,H.get(c)),H.delete(c)):g.set(r,g.get(c))),f&&Reflect.get(i,t,l).get(s)?.forEach(d=>d(u,r)),!C&&Ue(r),f},get(i,s,c){Re&&(Ne.add(c),I.has(c)?I.get(c).add(s):I.set(c,new Set([s])));let l=Reflect.get(i,s,c);return E(l)?(n.has(l)||n.set(l,l.bind(i)),n.get(l)):l}});return Reflect.defineProperty(o,"isProxy",{value:!0}),Reflect.defineProperty(o,"asyncUpdate",{value:Z,writable:!0}),Reflect.defineProperty(o,t,{value:new Map}),Reflect.defineProperty(o,"observe",{value(i,s){let c=Reflect.get(o,t);c.has(i)?c.get(i).add(s):c.set(i,new Set([s]))},configurable:!0}),Reflect.defineProperty(o,"getObservers",{value(){return Reflect.get(o,t)},configurable:!0}),Reflect.defineProperty(o,"unobserve",{value(i,s){let c=Reflect.get(o,t);if(i){if(c.has(i))if(s==null)c.delete(i);else{let l=c.get(i);l?.has(s)&&l.delete(s)}}else c.clear()},configurable:!0}),Reflect.has(o,ae)||queueMicrotask(()=>{o===P&&Reflect.defineProperty(o,ae,{value:n})}),o}function Ue(e){m(e)&&M(e)&&(g.delete(e),p.has(e)&&(p.get(e).forEach(q),p.delete(e)))}function xe(e,t,n,o){let i=g.get(e),s=i.get(String(t));if(s&&(Reflect.get(e,"asyncUpdate")?F(Q,s,n,o):Q(s,n,o)),m(n))for(let[c,l]of Object.entries(n)){let f=m(o)&&Reflect.get(o,c)||o,r=i.get(c);r&&(Reflect.get(e,"asyncUpdate")?F(Q,r,l,f):Q(r,l,f))}}function Q(e,t,n){e.forEach(o=>{if(W(o)){if(!o.isConnected){let i=e.get(o);e.delete(o),e.delete(i)}return}for(let i of o){let s=e.get(o),[c,l,f]=i,r=!1;if(W(t))G(t,s),t!==s&&(e.delete(s),e.set(t,o),e.set(o,t));else if(S(s)){r=!0;let u=s.nodeValue;s.nodeValue=u.substring(0,c)+String(t)+u.substring(l)}else if(f==="two-way")s instanceof HTMLTextAreaElement||s instanceof HTMLSelectElement||s instanceof HTMLInputElement&&s.type==="text"?s.value=String(t):s instanceof HTMLInputElement&&s.type==="radio"?s.checked=Array.isArray(t)?t.includes(s.name):String(t)===s.value:s instanceof HTMLInputElement&&s.type==="checkbox"&&(s.checked=t);else if(E(t)||v(t)){let u=f.replace(k,"");s.removeEventListener(u,E(t)?t:t.event),K(s,u,t)}else if(m(t))for(let[u,d]of Object.entries(t))if(E(d)||v(d)){let a=u.replace(k,"");s.removeEventListener(a,E(d)?d:d.event),K(s,a,d)}else T(s,u,d);else{r=!0;let u=s.getAttribute(f);u?(u=u.substring(0,c)+String(t)+u.substring(l),T(s,f,u===String(t)?t:u)):T(s,f,t)}if(r&&(i[1]=c+String(t).length,w.has(s))){let u=!1;for(let d of w.get(s)){if(d===i){u=!0;continue}if(u&&(S(s)||f===d[2])){let a=String(n).length-String(t).length;d[0]-=a,d[1]-=a}}}}})}function Ae(e,t,n){L=!0;let o=Y(e),i=O(t).map(n);o.append(...i);for(let s of i)A(s,h);L=!1,Ee(t,(s,c)=>{if(L=!0,!s?.length||!C&&s?.length===c?.length)o.textContent="";else if(C)for(let l=0;l<c?.length&&s?.length;l++)c[l].id=s[l].id,c[l].label=s[l].label,s[l]=c[l];if(c?.length&&s?.length>c?.length){let l=c.length,r=s.slice(l).map((u,d)=>n(u,d+l));o.append(...r);for(let u of r)A(u,h)}else if(c?.length===0||!C&&s?.length){let l=s.map(n);o.append(...l);for(let f of l)A(f,h)}L=!1})}var P=ce(),Y=document.querySelector.bind(document),nt=document.querySelectorAll.bind(document);var Ce=["pretty","large","big","small","tall","short","long","handsome","plain","quaint","clean","elegant","easy","angry","crazy","helpful","mushy","odd","unsightly","adorable","important","inexpensive","cheap","expensive","fancy"],Me=["red","yellow","blue","green","pink","brown","purple","brown","white","black","orange"],Le=["table","chair","house","bbq","desk","car","pony","cookie","sandwich","burger","pizza","mouse","keyboard"],je=Ce.length,Ke=Me.length,Je=Le.length,ze=1;function re(e){let t=new Array(e);for(let n=0;n<e;n++)t[n]={id:ze++,label:Ce[fe(je)]+" "+Me[fe(Ke)]+" "+Le[fe(Je)]};return t}function fe(e){return Math.random()*e|0}ge(!1);J(Y("#main"),{run:Ge,runLots:Xe,add:Be,update:Ye,clear:Qe,swapRows:Ze});var y=X([]),V=X(-1);Ae("tbody",y,(e,t)=>{let n=ye(i=>i===e.id,"danger","",V),o=x("tr",{class:n,bind:y[t]},x("td",{class:"col-md-1"},y[t].id),x("td",{class:"col-md-4"},x("a",{onclick:()=>V(e.id)},y[t].label)),x("td",{class:"col-md-1"},x("a",{onclick:()=>De(e.id)},x("span",{class:"glyphicon glyphicon-remove","aria-hidden":"true"}))),x("td",{class:"col-md-6"}));return oe(le,o,n),o});function Be(){y(e=>[...e,...re(1e3)])}function Ge(){V(null),y(re(1e3))}function Xe(){V(null),y(re(1e4))}function Qe(){y([]),V(null)}function Ye(){let e=O(y),t=0;for(;t<e.length;)y[t].setter(n=>{n.label+=" !!!"}),t+=10}function Ze(){y(e=>{e.length>998&&([e[1],e[998]]=[e[998],e[1]])})}function De(e){let t=O(y).findIndex(n=>n?.id===e);y(n=>{n[t]=null})}
