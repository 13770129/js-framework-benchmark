var b=Symbol("value"),_=Symbol("name"),a=new WeakMap,g=new WeakMap,p=new Map,y=[],v=m({});function r(e,t,...s){if(typeof e=="function")return e({...t,children:s});if(x(e))return r("",void 0,e.children);let n=e===""?document.createDocumentFragment():document.createElement(e);for(let[i,u]of Object.entries(t??{}))i in n?n[i]=u:n.setAttribute(i,String(u));n.append(...s.flat(Infinity));let[l,o,c]=y.pop()||[];if(l){let i=s.flatMap(F);try{if(i.includes(c)||(!i.includes(c)&&j(n)?n.textContent.includes(c):n.outerHTML.includes(c))){let u=j(n)?n.firstChild:n;if(a.has(l))a.get(l).push(u);else{let d=[u];a.set(l,d)}g.set(u,[o,c])}}catch{return n}}return n}function w(e,t){t?t.replaceWith(e):document.body.insertBefore(e,null)}var k=!1;function m(e){Reflect.set(n,b,e);let t=new Proxy(n,{set(l,o,c,i){let u=Reflect.get(l,o,i);if(u===c)return!0;let d=Reflect.set(l,o,c,i);return u!=null&&d&&!k&&L($,c,i),p.has(i)&&p.get(i).forEach(N.bind(N,c,u)),d},get(l,o,c){let i=Reflect.get(l,b),u=x(i),d;u&&(d=Reflect.get(i,o,c)||i);let M=[c,o,u?d:i];return y.push(M),queueMicrotask(U.bind(U,M)),u?d:z.bind(z,i)}}),s=X();return Reflect.set(t,_,s),v&&!Reflect.has(v,s)&&(k=!0,Reflect.set(v,s,t),k=!1),t;function n(l){if(t!==null){if(l===null){Reflect.deleteProperty(t,b);let o;p.has(t)&&p.delete(t),a.has(t)&&(o=a.get(t),a.delete(t));for(let c=0;o&&c<o.length;c++){let i=o[c];g.has(i)&&g.delete(i)}t=l;return}else if(typeof l=="function"){n(l(Reflect.get(t,b)));return}Reflect.set(t,b,l)}}}function S(e,t){p.has(e)?p.get(e).push(t):p.set(e,[t])}function N(e,t,s){s(e,t)}function O(e,t,s){let n=document.body.querySelector(e),l=Reflect.get(t,b).map(s);n.append(...l),S(t,A.bind(A,n,s))}function A(e,t,s,n){let l=new Set([...n,...s]).size===n?.length+s?.length;if(!s?.length||n?.length===s?.length||l){e.textContent="";for(let o=0;o<n.length;o++)n[o](null)}if(n?.length&&s?.length>n?.length){let o=n.length,i=(l?s:s.slice(o)).map(T.bind(T,t,o));e.append(...i)}else if(s?.length&&s?.length<n.length)n.reverse().forEach(I.bind(I,e,s,n.length-1)),s.forEach(E.bind(E,e,t,n));else if(n?.length===0||n?.length===s?.length){let o=s.map(t);e.append(...o)}}function T(e,t,s,n){return e(s,n+t)}function E(e,t,s,n,l){s.includes(n)||e.appendChild(t(n,l))}function I(e,t,s,n,l){t.includes(n)||(n(null),e.childNodes[s-l]?.remove())}function $(e,t){if(a.has(t)){let s=a.get(t);for(let n=0;n<s.length;n++){let l=s[n],[o,c]=g.get(l),i=x(e)?Reflect.get(e,o):e,u=!1;!G(l)&&l.outerHTML.includes(c)&&(u=l.getAttributeNames().some(q.bind(q,l,c,i))),u||(l.textContent=l.textContent.replace(c,i)),g.set(l,[o,i])}}}function q(e,t,s,n){if(e.getAttribute(n)===t)return e.setAttribute(n,s),!0}function L(e,...t){navigator.scheduling?navigator.scheduling.isInputPending()?setTimeout(L,0,e,...t):e(...t):(requestIdleCallback||setTimeout)(e.bind(e,...t))}function h(e){return Reflect.get(e,b)}function V(e,t){let s=a.get(e),n=a.get(t);for(let l=0;l<s.length;l++){let o=s[l],c=n[l];console.log(o,c);let i=c.nextSibling,u=c.previousSibling,d=c.parentNode;o.before(c),i?i.before(o):u?u.after(o):d.appendChild(o)}}function z(e){return e}function F(e){return String(e)}function P(e,t){return e===t}function X(){return Math.random().toString(32).slice(2)}function x(e){return e!=null&&typeof e=="object"}function U(e){let t=y.findIndex(P.bind(P,e));y.splice(t,1)}function G(e){return e.splitText!==void 0}function j(e){return e.nodeName!=="svg"&&"getElementById"in e}var H=["pretty","large","big","small","tall","short","long","handsome","plain","quaint","clean","elegant","easy","angry","crazy","helpful","mushy","odd","unsightly","adorable","important","inexpensive","cheap","expensive","fancy"],B=["red","yellow","blue","green","pink","brown","purple","brown","white","black","orange"],J=["table","chair","house","bbq","desk","car","pony","cookie","sandwich","burger","pizza","mouse","keyboard"],K=H.length,Q=B.length,Y=J.length,Z=1;function R(e){let t=new Array(e);for(let s=0;s<e;s++)t[s]=m({id:Z++,label:H[C(K)]+" "+B[C(Q)]+" "+J[C(Y)]});return t}function C(e){return Math.random()*e|0}var D=document.querySelector.bind(document);w(r("div",{class:"row"},r("div",{class:"col-sm-6 smallpad"},r("button",{type:"button",class:"btn btn-primary btn-block",id:"run",onclick:te},"Create 1,000 rows")),r("div",{class:"col-sm-6 smallpad"},r("button",{type:"button",class:"btn btn-primary btn-block",id:"runlots",onclick:ne},"Create 10,000 rows")),r("div",{class:"col-sm-6 smallpad"},r("button",{type:"button",class:"btn btn-primary btn-block",id:"add",onclick:ee},"Append 1,000 rows")),r("div",{class:"col-sm-6 smallpad"},r("button",{type:"button",class:"btn btn-primary btn-block",id:"update",onclick:le},"Update every 10th row")),r("div",{class:"col-sm-6 smallpad"},r("button",{type:"button",class:"btn btn-primary btn-block",id:"clear",onclick:se},"Clear")),r("div",{class:"col-sm-6 smallpad"},r("button",{type:"button",class:"btn btn-primary btn-block",id:"swaprows",onclick:oe},"Swap Rows"))),D(".col-md-6 > .row"));var f=m([]),W=m(-1);O("tbody",f,e=>{let t=m(""),s=r("tr",{class:t},r("td",{class:"col-md-1"},e.id),r("td",{class:"col-md-4"},r("a",{onclick:()=>W(e.id)},e.label)),r("td",{class:"col-md-1"},r("a",{onclick:()=>ie(e.id)},r("span",{class:"glyphicon glyphicon-remove","aria-hidden":"true"}))),r("td",{class:"col-md-6"}));return S(W,n=>{n===e.id?t("danger"):t("")}),s});function ee(){f(e=>[...e,...R(1e3)])}function te(){f(R(1e3))}function ne(){f(R(1e4))}function se(){f([])}function le(){let e=h(f),t=0;for(;t<e.length;)e[t](s=>({...s,label:s.label+=" !!!"})),t+=10}function oe(){let e=h(f);V(e[1],e[998])}function ie(e){let t=[...h(f)],s=t.findIndex(n=>n?.id===e);t.splice(s,1),f(t)}
