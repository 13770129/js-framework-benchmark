var b=Symbol("value"),W=Symbol("name"),f=new WeakMap,y=new WeakMap,p=new Map,h=[],v=m({});function c(e,t,...s){if(typeof e=="function")return e({...t,children:s});if(x(e))return c("",void 0,e.children);let n=e===""?document.createDocumentFragment():document.createElement(e);for(let[o,u]of Object.entries(t??{}))o in n?n[o]=u:n.setAttribute(o,String(u));n.append(...s.flat(Infinity));let[l,i,r]=h.pop()||[];if(l){let o=s.flatMap($);try{if(o.includes(r)||(!o.includes(r)&&j(n)?n.textContent.includes(r):n.outerHTML.includes(r))){let u=j(n)?n.firstChild:n;if(f.has(l))f.get(l).push(u);else{let a=[u];f.set(l,a)}y.set(u,[i,r])}}catch{return n}}return n}function w(e,t){t?t.replaceWith(e):document.body.insertBefore(e,null)}var k=!1;function m(e){Reflect.set(n,b,e);let t=new Proxy(n,{set(l,i,r,o){let u=Reflect.get(l,i,o);if(u===r)return!0;let a=Reflect.set(l,i,r,o);return u!=null&&a&&!k&&L(_,r,o),p.has(o)&&p.get(o).forEach(O.bind(O,r,u)),a},get(l,i,r){let o=Reflect.get(l,b),u=x(o),a;u&&(a=Reflect.get(o,i,r)||o);let M=[r,i,u?a:o];return h.push(M),queueMicrotask(U.bind(U,M)),u?a:V.bind(V,o)}}),s=F();return Reflect.set(t,W,s),v&&!Reflect.has(v,s)&&(k=!0,Reflect.set(v,s,t),k=!1),t;function n(l){if(t!==null){if(l===null){Reflect.deleteProperty(t,b);let i;p.has(t)&&p.delete(t),f.has(t)&&(i=f.get(t),f.delete(t));for(let r=0;i&&r<i.length;r++){let o=i[r];y.has(o)&&y.delete(o)}t=l;return}else if(typeof l=="function"){n(l(Reflect.get(t,b)));return}Reflect.set(t,b,l)}}}function S(e,t){p.has(e)?p.get(e).push(t):p.set(e,[t])}function O(e,t,s){s(e,t)}function A(e,t,s){let n=document.body.querySelector(e),l=Reflect.get(t,b).map(s);n.append(...l),S(t,T.bind(T,n,s))}function T(e,t,s,n){let l=new Set([...n,...s]).size===n?.length+s?.length;if(!s?.length||n?.length===s?.length||l){e.textContent="";for(let i=0;i<n.length;i++)n[i](null)}if(n?.length&&s?.length>n?.length){let i=n.length,o=(l?s:s.slice(i)).map(E.bind(E,t,i));e.append(...o)}else if(s?.length&&s?.length<n.length)n.reverse().forEach(I.bind(I,e,s,n.length-1)),s.forEach(N.bind(N,e,t,n));else if(n?.length===0||n?.length===s?.length){let i=s.map(t);e.append(...i)}}function E(e,t,s,n){return e(s,n+t)}function N(e,t,s,n,l){s.includes(n)||e.appendChild(t(n,l))}function I(e,t,s,n,l){t.includes(n)||(n(null),e.childNodes[s-l]?.remove())}function _(e,t){if(f.has(t)){let s=f.get(t);for(let n=0;n<s.length;n++){let l=s[n],[i,r]=y.get(l),o=x(e)?Reflect.get(e,i):e,u=!1;!X(l)&&l.outerHTML.includes(r)&&(u=l.getAttributeNames().some(q.bind(q,l,r,o))),u||(l.textContent=l.textContent.replace(r,o)),y.set(l,[i,o])}}}function q(e,t,s,n){if(e.getAttribute(n)===t)return e.setAttribute(n,s),!0}function L(e,...t){navigator.scheduling?navigator.scheduling.isInputPending()?setTimeout(L,0,e,...t):e(...t):(requestIdleCallback||setTimeout)(e.bind(e,...t))}function g(e){return Reflect.get(e,b)}function V(e){return e}function $(e){return String(e)}function z(e,t){return e===t}function F(){return Math.random().toString(32).slice(2)}function x(e){return e!=null&&typeof e=="object"}function U(e){let t=h.findIndex(z.bind(z,e));h.splice(t,1)}function X(e){return e.splitText!==void 0}function j(e){return e.nodeName!=="svg"&&"getElementById"in e}var H=["pretty","large","big","small","tall","short","long","handsome","plain","quaint","clean","elegant","easy","angry","crazy","helpful","mushy","odd","unsightly","adorable","important","inexpensive","cheap","expensive","fancy"],B=["red","yellow","blue","green","pink","brown","purple","brown","white","black","orange"],J=["table","chair","house","bbq","desk","car","pony","cookie","sandwich","burger","pizza","mouse","keyboard"],G=H.length,K=B.length,Q=J.length,Y=1;function R(e){let t=new Array(e);for(let s=0;s<e;s++)t[s]=m({id:Y++,label:H[C(G)]+" "+B[C(K)]+" "+J[C(Q)]});return t}function C(e){return Math.random()*e|0}var Z=document.querySelector.bind(document);w(c("div",{class:"row"},c("div",{class:"col-sm-6 smallpad"},c("button",{type:"button",class:"btn btn-primary btn-block",id:"run",onclick:ee},"Create 1,000 rows")),c("div",{class:"col-sm-6 smallpad"},c("button",{type:"button",class:"btn btn-primary btn-block",id:"runlots",onclick:te},"Create 10,000 rows")),c("div",{class:"col-sm-6 smallpad"},c("button",{type:"button",class:"btn btn-primary btn-block",id:"add",onclick:D},"Append 1,000 rows")),c("div",{class:"col-sm-6 smallpad"},c("button",{type:"button",class:"btn btn-primary btn-block",id:"update",onclick:se},"Update every 10th row")),c("div",{class:"col-sm-6 smallpad"},c("button",{type:"button",class:"btn btn-primary btn-block",id:"clear",onclick:ne},"Clear")),c("div",{class:"col-sm-6 smallpad"},c("button",{type:"button",class:"btn btn-primary btn-block",id:"swaprows",onclick:le},"Swap Rows"))),Z(".col-md-6 > .row"));var d=m([]),P=m(-1);A("tbody",d,e=>{let t=m(""),s=c("tr",{class:t},c("td",{class:"col-md-1"},e.id),c("td",{class:"col-md-4"},c("a",{onclick:()=>P(e.id)},e.label)),c("td",{class:"col-md-1"},c("a",{onclick:()=>oe(e.id)},c("span",{class:"glyphicon glyphicon-remove","aria-hidden":"true"}))),c("td",{class:"col-md-6"}));return S(P,n=>{n===e.id?t("danger"):t("")}),s});function D(){d(e=>[...e,...R(1e3)])}function ee(){d(R(1e3))}function te(){d(R(1e4))}function ne(){d([])}function se(){let e=g(d),t=0;for(;t<e.length;)e[t](s=>({...s,label:s.label+=" !!!"})),t+=10}function le(){let e=g(d);if(e.length>998){let t=g(e[1]);e[1](g(e[998])),e[998](t)}}function oe(e){let t=[...g(d)],s=t.findIndex(n=>n?.id===e);t.splice(s,1),d(t)}
