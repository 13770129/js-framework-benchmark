!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var s=t();for(var i in s)("object"==typeof exports?exports:e)[i]=s[i]}}(this,function(){return function(e){var t={};function s(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,s),r.l=!0,r.exports}return s.m=e,s.c=t,s.d=function(e,t,i){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},s.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(s.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)s.d(i,r,function(t){return e[t]}.bind(null,r));return i},s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="",s(s.s=1)}([function(e,t,s){e.exports=function(e){var t={};function s(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,s),r.l=!0,r.exports}return s.m=e,s.c=t,s.d=function(e,t,i){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},s.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(s.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)s.d(i,r,function(t){return e[t]}.bind(null,r));return i},s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="",s(s.s=8)}([function(e,t,s){"use strict";var i=this&&this.__awaiter||function(e,t,s,i){return new(s||(s=Promise))(function(r,n){function o(e){try{u(i.next(e))}catch(e){n(e)}}function l(e){try{u(i.throw(e))}catch(e){n(e)}}function u(e){e.done?r(e.value):new s(function(t){t(e.value)}).then(o,l)}u((i=i.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});class r{constructor(e){e&&(this.props=e)}updateMe(){this.vn&&this.vn.requestUpdate()}callMe(e,t=!1){this.vn&&this.vn.scheduleCall(e,t)}}t.Component=r;const n=s(9);t.Ref=class{constructor(e,t){this.changedEvent=new n.EventSlot,void 0!==e&&this.changedEvent.add(e),this._r=t}addListener(e){this.changedEvent.add(e)}removeListener(e){this.changedEvent.remove(e)}get r(){return this._r}set r(e){this._r!==e&&(this._r=e,this.changedEvent.fire(e))}clear(){this._r=void 0,this.changedEvent.clear()}},t.setRef=function(e,t,s){if("object"==typeof e){let i=e;void 0!==s&&i.r!==s||(i.r=t)}else"function"==typeof e&&e(t)},t.updatable=function(e,t){let s="_m_"+t;Object.defineProperty(e,t,{set(e){this[s]!==e&&(this[s]=e,this.vn&&this.vn.requestUpdate())},get(){return this[s]}})},t.Fragment=function(e){},t.FuncProxy=class extends r{constructor(e){super(),this.update=()=>{this.vn&&this.vn.requestUpdate()},this.func=e}render(){return this.func()}},t.Waiting=class extends r{constructor(e,t,s){super(),this.content=t,this.watchPromise(e,s)}render(){return this.content}watchPromise(e,t){return i(this,void 0,void 0,function*(){try{this.content=yield e}catch(e){if(this.content=null,void 0!==t)try{this.content=t(e)}catch(e){}}})}},t.isSvg=function(e){return"ownerSVGElement"in e},t.isSvgSvg=function(e){return null===e.ownerSVGElement};const o=s(3);t.jsx=function(e,t,...s){return o.createNodesFromJSX(e,t,s)};const l=s(18);t.mountSync=function(e,t=null){l.mountRootSync(e,t)},t.unmountSync=function(e=null){l.unmountRootSync(e)},t.mount=function(e,t=null){l.mountRoot(e,t)},t.unmount=function(e=null){l.unmountRoot(e)};const u=s(6);t.registerCustomAttribute=function(e,t){u.ElmAttr.registerProperty(e,{type:3,handlerClass:t})};const a=s(7);t.mergeSlices=function(...e){return a.mergeSlices(...e)},t.mergeSlicesTo=function(e,...t){a.mergeSlicesTo(e,...t)},t.mergeClasses=function(...e){return a.mergeClasses(...e)},t.mergeStyles=function(...e){return a.mergeStyles(...e)},t.mergeStylesTo=function(e,...t){a.mergeStylesTo(e,...t)}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});class i{constructor(e,t){this.shouldCommit=e,this.shouldRender=t}static getStockValue(e,t){return e?t?i.DoCommitDoRender:i.DoCommitNoRender:t?i.NoCommitDoRender:i.NoCommitNoRender}}function r(e){if(e.ownDN)return e.ownDN;if(!e.subNodes)return null;let t;for(let s=e.subNodes.length-1;s>=0;s--)if(null!=(t=r(e.subNodes[s])))return t;return null}i.DoCommitDoRender=new i(!0,!0),i.DoCommitNoRender=new i(!0,!1),i.NoCommitDoRender=new i(!1,!0),i.NoCommitNoRender=new i(!1,!1),t.VNUpdateDisp=i,t.getFirstDN=function e(t){if(t.ownDN)return t.ownDN;if(!t.subNodes)return null;let s;for(let i of t.subNodes)if(s=e(i))return s;return null},t.getLastDN=r,t.getImmediateDNs=function(e){let t=[];return function e(t,s){if(t.ownDN)s.push(t.ownDN);else if(t.subNodes)for(let i of t.subNodes)e(i,s)}(e,t),t},t.getNextDNUnderSameAnchorDN=function e(t,s){if(t.subNodes&&t.subNodes.length>0){let e=r(t.subNodes[t.subNodes.length-1]);if(e){let t=e.nextSibling;if(null!==t)return t}}for(let e=t.next;void 0!==e;e=e.next){if(!e.anchorDN)return null;const t=r(e);if(t)return t}return t.parent&&t.parent.anchorDN===s?e(t.parent,s):null},t.getVNPath=function(e){let t=e.depth,s=Array(t);for(let i=0,r=e;i<t;i++,r=r.parent)s[i]=r.name;return s}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=s(0),r=s(1),n=s(4),o=s(11);function l(){try{let[e,t,...s]=arguments;return e?t.apply(e,s):t(...s)}catch(e){let t=this.findService("StdErrorHandling");if(!t)throw e;t.reportError(e,r.getVNPath(this))}}t.VNBase=class{init(e){this.parent=e,this.depth=this.parent?this.parent.depth+1:0}term(){void 0!==this.publishedServices&&(this.publishedServices.forEach((e,t)=>o.notifyServiceUnpublished(t,this)),this.publishedServices.clear()),void 0!==this.subscribedServices&&(this.subscribedServices.forEach((e,t)=>{o.notifyServiceUnsubscribed(t,this)}),this.subscribedServices.clear()),this.next=void 0,this.prev=void 0,this.subNodes=void 0,this.keyedSubNodes=void 0,this.depth=void 0,this.parent=void 0}requestUpdate(){this.updateRequested||(n.requestNodeUpdate(this),this.updateRequested=!0)}scheduleCall(e,t=!1){n.scheduleFuncCall(e,t)}publishService(e,t){void 0===this.publishedServices&&(this.publishedServices=new Map),this.publishedServices.get(e)!==t&&(this.publishedServices.set(e,t),o.notifyServicePublished(e,this))}unpublishService(e){void 0!==this.publishedServices&&(this.publishedServices.delete(e),o.notifyServiceUnpublished(e,this),0===this.publishedServices.size&&(this.publishedServices=void 0))}subscribeService(e,t,s,r){void 0===this.subscribedServices&&(this.subscribedServices=new Map);let n=new u;n.ref=t,n.defaultService=s,n.useSelf=!!r,this.subscribedServices.set(e,n),o.notifyServiceSubscribed(e,this),i.setRef(t,this.getService(e,s))}unsubscribeService(e){if(void 0===this.subscribedServices)return;let t=this.subscribedServices.get(e);void 0!==t&&(i.setRef(t.ref,void 0),this.subscribedServices.delete(e),o.notifyServiceUnsubscribed(e,this),0===this.subscribedServices.size&&(this.subscribedServices=void 0))}getService(e,t,s){let i=this.findService(e,s);return void 0!==i?i:t}findService(e,t){if(t&&void 0!==this.publishedServices){let t=this.publishedServices.get(e);if(void 0!==t)return t}return this.parent?this.parent.findService(e,!0):void 0}notifyServiceChanged(e){if(void 0===this.subscribedServices)return;let t=this.subscribedServices.get(e);void 0!==t&&i.setRef(t.ref,this.getService(e,t.defaultService))}wrapCallback(e,t){return l.bind(this,t,e)}};class u{}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=s(0),r=s(2),n=s(12),o=s(13),l=s(14),u=s(15),a=s(17);function d(e){if(null==e||!1===e||"function"==typeof e)return null;if("string"==typeof e)return new a.TextVN(e);if(e instanceof r.VNBase)return e;if("function"==typeof e.render)return e.vn?e.vn:new n.IndependentCompVN(e);if(Array.isArray(e))return c(e);if(e instanceof Promise)throw e;return new a.TextVN(e.toString())}function c(e){if(0===e.length)return null;let t=[];for(let s of e){let e=d(s);if(null!==e)if(Array.isArray(e))for(let s of e)t.push(s);else t.push(e)}return t.length>0?t:null}t.createNodesFromContent=d,t.createVNChainFromContent=function(e){let t=d(e);return t?Array.isArray(t)?t:[t]:null},t.createNodesFromJSX=function(e,t,s){if("string"==typeof e)return new u.ElmVN(e,t,s);if(e===i.Fragment)return c(s);if("function"==typeof e){let i=1===s.length&&Array.isArray(s[0])?s[0]:s;return"function"==typeof e.prototype.render?new o.ManagedCompVN(e,t,i):new l.FuncVN(e,t,i)}}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=s(1),r=s(3),n=s(10);var o;!function(e){e[e.Idle=0]="Idle",e[e.BeforeUpdate=1]="BeforeUpdate",e[e.Update=2]="Update",e[e.AfterUpdate=3]="AfterUpdate"}(o||(o={}));let l=new Set,u=new Set,a=new Set,d=0,c=o.Idle,h=0;function p(){0===d&&(d=requestAnimationFrame(f))}t.s_currentVN=null,t.updateNodeSync=function(e){h++;let t=new Array(1);t[0]=[e],c=o.Update,v(m(t)),c=o.Idle},t.requestNodeUpdate=function(e){e.anchorDN||console.warn(`Update requested for virtual node '${i.getVNPath(e).join("->")}' that doesn't have anchor DOM node`),l.add(e),c!==o.BeforeUpdate&&p()},t.scheduleFuncCall=function(e,t=!1){e&&(t?(u.add(e),p()):(a.add(e),c!==o.BeforeUpdate&&c!==o.Update&&p()))};let f=()=>{if(d=0,h++,u.size>0){c=o.BeforeUpdate;let e=u;u=new Set,b(e,"before")}if(l.size>0){c=o.Update;let e=l;l=new Set,v(m(function(e){let t=new Array(100);return e.forEach(e=>{let s=t[e.depth];s||(s=[],t[e.depth]=s),s.push(e)}),t}(e)))}if(a.size>0){c=o.AfterUpdate;let e=a;a=new Set,b(e,"after")}c=o.Idle};function m(e){let s,r=[];return e.forEach(e=>{e.forEach(e=>{try{if(e.updateRequested=!1,e.lastUpdateTick===h)return;D(s=new n.VNDisp(e,0,e)),r.push(s)}catch(s){let r=e.getService("StdErrorHandling",void 0,!1);if(!r)throw s;r.reportError(s,t.s_currentVN?i.getVNPath(t.s_currentVN):null)}t.s_currentVN=null})}),r}function v(e){e.forEach(e=>{!function e(t){if(t.subNodesToRemove)for(let e of t.subNodesToRemove)S(e);let s=t.oldVN;if(!s.anchorDN)return;let r=s.ownDN,n=null!=r?r:s.anchorDN,o=null!=r?null:i.getNextDNUnderSameAnchorDN(s,n);s.subNodes=t.subNodeDisps?new Array(t.subNodeDisps.length):void 0,s.keyedSubNodes=void 0!==s.subNodes&&s.subNodes.length>1?new Map:void 0,t.subNodeGroups?(function(t,s,r,n,o){let l,u,a,d,c,h,p=s.length-1;for(let f=r.length-1;f>=0;f--){let m=r[f];for(let r=m.last;r>=m.first;r--)d=(a=s[r]).newVN,c=a.oldVN,u=2===m.action?c:d,t.subNodes[p--]=u,2===m.action?(c!==d&&(a.updateDisp.shouldCommit&&c.commitUpdate(d),a.updateDisp.shouldRender&&e(a)),null!=(h=i.getFirstDN(c))&&(o=h)):1===m.action&&(g(d,n,o),null!=(h=i.getFirstDN(d))&&(o=h)),void 0!==t.keyedSubNodes&&void 0!==u.key&&t.keyedSubNodes.set(u.key,u),u.next=u.prev=void 0,l&&(l.prev=u,u.next=l),l=u;m.determineDNs(),m.firstDN&&(o=m.firstDN)}}(s,t.subNodeDisps,t.subNodeGroups,n,o),function(e,t,s,i,r){for(let e=s.length-1;e>0;e--){let n=s[e],o=s[e-1];null!=n.lastDN&&(n.lastDN.nextSibling!==r&&(n.lastDN.nextSibling===o.firstDN&&n.count>o.count?R(0,t,o,i,n.firstDN):R(0,t,n,i,r)),r=n.firstDN)}}(0,t.subNodeDisps,t.subNodeGroups,n,o)):t.subNodeDisps&&function(t,s,r,n){let o,l,u,a,d,c;for(let h=s.length-1;h>=0;h--){if(a=(u=s[h]).newVN,d=u.oldVN,l=2===u.action?d:a,t.subNodes[h]=l,2===u.action){d!==a&&(u.updateDisp.shouldCommit&&d.commitUpdate(a),u.updateDisp.shouldRender&&e(u));let t=i.getImmediateDNs(d);if(t.length>0){if(t[t.length-1].nextSibling!==n)for(let e of t)r.insertBefore(e,n);n=t[0]}}else 1===u.action&&(g(a,r,n),null!=(c=i.getFirstDN(a))&&(n=c));void 0!==t.keyedSubNodes&&void 0!==l.key&&t.keyedSubNodes.set(l.key,l),l.next=l.prev=void 0,o&&(o.prev=l,l.next=o),o=l}}(s,t.subNodeDisps,n,o)}(e)})}function b(e,t){e.forEach(e=>{try{e()}catch(e){console.error(`Exception while invoking function ${t} updating components\n`,e)}})}function y(e,s){e.init(s),e.parent=s,e.depth=e.parent?e.parent.depth+1:0;let r=e;if(t.s_currentVN=r,e.willMount)try{e.willMount()}catch(s){if(!e.supportsErrorHandling||!e.supportsErrorHandling())throw s;e.handleError(s,i.getVNPath(t.s_currentVN)),e.willMount()}if(e.render)try{N(e)}catch(s){if(!e.supportsErrorHandling||!e.supportsErrorHandling())throw s;e.handleError(s,i.getVNPath(t.s_currentVN)),N(e)}t.s_currentVN=r}function N(e){if(e.subNodes=r.createVNChainFromContent(e.render()),e.subNodes){let t;e.subNodes.length>1&&(e.keyedSubNodes=new Map);for(let s of e.subNodes)y(s,e),void 0!==e.keyedSubNodes&&void 0!==s.key&&e.keyedSubNodes.set(s.key,s),t&&(t.next=s,s.prev=t),t=s}}function g(e,t,s){e.anchorDN=t;let i=e.mount?e.mount():void 0;if(i&&e.anchorDN.insertBefore(i,s),e.subNodes){let r=i||t,n=i?null:s;for(let t of e.subNodes)g(t,r,n)}}function w(e){if(e.subNodes)for(let t of e.subNodes)w(t);if(e.willUnmount)try{e.willUnmount()}catch(t){console.error(`Node ${e.name} threw exception '${t.message}' in willUnmount`)}}function S(e){let t=e.ownDN;if(e.unmount&&e.unmount(),t)t.remove();else if(e.subNodes)for(let t=e.subNodes.length-1;t>=0;t--)S(e.subNodes[t]);e.term(),e.anchorDN=void 0}function D(e){let s=e.oldVN,r=s;t.s_currentVN=r;try{x(e)}catch(r){if(!s.supportsErrorHandling||!s.supportsErrorHandling())throw r;s.handleError(r,i.getVNPath(t.s_currentVN)),x(e)}s.lastUpdateTick=h,t.s_currentVN=r}function x(e){if(e.buildSubNodeDispositions(),e.subNodesToRemove)for(let t of e.subNodesToRemove)w(t);if(e.subNodeDisps){let t,s,i=e.oldVN;for(let r of e.subNodeDisps)t=r.oldVN,s=r.newVN,2===r.action?t!==s&&t.prepareUpdate&&(r.updateDisp=t.prepareUpdate(s),r.updateDisp.shouldRender&&D(r)):1===r.action&&y(s,i)}}function R(e,t,s,r,n){for(let e=s.first;e<=s.last;e++){let o=2===s.action?t[e].oldVN:t[e].newVN,l=i.getImmediateDNs(o);for(let e of l)r.insertBefore(e,n)}}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=s(2);t.ClassCompVN=class extends i.VNBase{get updateStrategy(){return this.comp.getUpdateStrategy?this.comp.getUpdateStrategy():void 0}render(){return this.comp.render()}supportsErrorHandling(){return void 0!==this.comp.handleError}handleError(e,t){this.comp.handleError(e,t)}}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});class i{static registerProperty(e,t){i.propInfos[e]=t}static getPropertyInfo(e){return i.propInfos[e]}static setAttr(e,t,s,i){if(void 0===s)e.setAttribute(t,"string"==typeof i?i:i.toString());else{let r=s.attrName;void 0===r&&(r=t),void 0!==s.set?s.set(e,r,i):e.setAttribute(r,"string"==typeof i?i:i.toString())}}static updateAttr(e,t,s,i,r){if(void 0===s)return i!==r&&(e.setAttribute(t,"string"==typeof r?r:r.toString()),!0);let n;if(void 0!==s.diff){if(void 0===(n=s.diff(t,i,r)))return!1}else i!==r&&(n=r);let o=s.attrName;return void 0===o&&(o=t),void 0!==s.update?s.update(e,o,n):(void 0!==s.remove&&s.remove(e,o),void 0!==s.set?s.set(e,o,n):e.setAttribute(o,"string"==typeof n?n:n.toString())),!0}static removeAttr(e,t,s){if(void 0===s)e.removeAttribute(t);else{let i=s.attrName;void 0===i&&(i=t),void 0!==s.remove?s.remove(e,i):e.removeAttribute(i)}}}function r(e,t,s){e.value=s}function n(e,t,s){}function o(e,t){}function l(e,t,s){e.checked=s}i.propInfos={style:{type:1,set:function(e,t,s){if(null==s)e.removeAttribute("style");else{const t=e.style;for(let e in s){const i=s[e];t[e]!==i&&(t[e]=i)}}},diff:function(e,t,s){if(typeof t!=typeof s)return s;{const e=t,i=s,r={};let n=!1;for(let t in e){const s=e[t],o=i[t];void 0===o?(n=!0,r[t]=void 0):o!==s&&(n=!0,r[t]=o)}for(let t in i)void 0===e[t]&&(n=!0,r[t]=i[t]);return n?r:void 0}},update:function(e,t,s){const i=e.style;for(let e in s){const t=s[e];i[e]=void 0===t?null:t}}},value:{type:1,set:r,diff:function(e,t,s){return s},remove:function(e,t){e.value=null}},defaultValue:{type:1,set:r,diff:n,remove:o},checked:{type:1,set:l,diff:function(e,t,s){return s},remove:function(e,t){e.checked=!1}},defaultChecked:{type:1,set:l,diff:n,remove:o},mouseenter:{type:2,isBubbling:!1},mouseleave:{type:2,isBubbling:!1}},t.ElmAttr=i},function(e,t,s){"use strict";function i(e){if(!e)return 5;let t=e.length,s=10+t;for(let i=0;i<t;i++)s+=e.charCodeAt(i);return s}function r(...e){let t;for(let s of e)s&&(void 0===t?t="":t+=" ",t+="string"==typeof s?s:s.join(" "));return t}function n(e,...t){for(let s of t){if(!s)continue;let t="object"==typeof s?s:o(s);for(let s in t)e[s]=t[s]}}function o(e){if(!e)return{};let t={},s=e.split(";");for(let e of s){let s=e.split(":");!s||0===s.length||s.length>2||(t[l(s[0].trim())]=s[1].trim())}return t}function l(e){if(!e)return e;let t,s=-1,i=0;for(;(s=e.indexOf("-",s+1))>=0;)void 0===t&&(t=""),t+=e.substr(i,s-i),s!=e.length-1&&(t+=e[s+1].toUpperCase()),i=s+2;return void 0===t?e:(i<e.length&&(t+=e.substr(i)),t)}function u(e,...t){if(null!=e)for(let s of t)if(s){if(s.style&&(void 0===e.style&&(e.style={}),n(e.style,s.style)),s.className&&(void 0===e.className&&(e.className=""),e.className=r(e.className,s.className)),s.props){void 0===e.props&&(e.props={});for(let t in s.props)e[t]=s[t]}if(s.content)if(void 0===e.content)e.content=s.content;else{if(!Array.isArray(e.content)){let t=e.content;e.content=[],e.content.push(t)}e.content.push(s.content)}}}Object.defineProperty(t,"__esModule",{value:!0}),t.deepCompare=function e(t,s){if(t===s)return!0;if(null==t&&null==s)return!0;if(null==t||null==s)return!1;if(typeof t!=typeof s)return!1;if("object"==typeof t){for(let i in t)if(!e(t[i],s[i]))return!1;for(let e in s)if(!(e in t))return!1}else{if(Array.isArray(t)!==Array.isArray(s))return!1;if(!Array.isArray(t))return!1;if(t.length!==s.length)return!1;for(let i=0,r=t.length;i<r;i++)if(!e(t[i],s[i]))return!1}return!0},t.hashObject=function e(t){if(void 0===t)return 0;if(null===t)return 1;if(isNaN(0))return 2;if(!0===t)return 3;if(!1===t)return 4;if("number"==typeof t)return 10+t;if("string"==typeof t)return i(t);if("function"==typeof t)return i(t.name);if(Array.isArray(t)){let s=t.length,i=10+s;for(let r=0;r<s;r++)i+=r+e(t[r]);return i}{let s=10;for(let r in t)s+=i(r)+e(t[r]);return s}},t.hashString=i,t.mergeClasses=r,t.mergeStyles=function(...e){let t={};return n(t,...e),t},t.mergeStylesTo=n,t.parseStyleString=o,t.dashToCamel=l,t.mergeSlices=function(...e){let t={};return u(t,...e),t},t.mergeSlicesTo=u},function(e,t,s){"use strict";function i(e){for(var s in e)t.hasOwnProperty(s)||(t[s]=e[s])}Object.defineProperty(t,"__esModule",{value:!0}),i(s(0)),i(s(20))},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});class i{constructor(){this.fire=this.realFire,this.listeners=null}add(e){null===this.listeners&&(this.listeners=new Set),this.listeners.add(e)}remove(e){null!==this.listeners&&(this.listeners.delete(e),0===this.listeners.size&&(this.listeners=null))}clear(){this.listeners=null}realFire(){if(null!==this.listeners)for(let e of this.listeners)e(...arguments)}}t.EventSlot=i,t.EventMultiSlot=class{addListener(e,t){void 0===this.slots&&(this.slots=new Map);let s=this.slots.get(e);void 0===s&&(s=new i,this.slots.set(e,s)),s.add(t)}removeListener(e,t){if(void 0!==this.slots){let s=this.slots.get(e);void 0!==s&&s.remove(t)}}},t.SimpleEventSlot=class extends i{}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=s(1),r=s(3);class n{get count(){return this.last-this.first+1}constructor(e,t,s,i){this.parentDisp=e,this.action=t,this.first=s,this.last=i}determineDNs(){let e,t;for(let s=this.first;s<=this.last&&(e=this.parentDisp.subNodeDisps[s],t=2===this.action?e.oldVN:e.newVN,this.firstDN=i.getFirstDN(t),!this.firstDN);s++);for(let s=this.last;s>=this.first&&(e=this.parentDisp.subNodeDisps[s],t=2===this.action?e.oldVN:e.newVN,this.lastDN=i.getLastDN(t),!this.lastDN);s--);}}t.VNDispGroup=n;const o=8;class l{constructor(e,t=0,s){this.action=t,this.newVN=e,this.oldVN=s}buildSubNodeDispositions(){let e=r.createVNChainFromContent(this.oldVN.render()),t=e?e.length:0,s=this.oldVN.subNodes,i=s?s.length:0;if(0===t&&0===i)return;if(0===t)return void(this.subNodesToRemove=s);if(0===i)return this.subNodeDisps=e.map(e=>new l(e,1)),void(t>o&&(this.subNodeGroups=[new n(this,1,0,t-1)]));let a=!0,d=this.oldVN?this.oldVN.updateStrategy:void 0;if(d&&void 0!==d.allowKeyedNodeRecycling&&(a=d.allowKeyedNodeRecycling),1===t&&1===i){let t=e[0],i=s[0],r=new l(t);return this.subNodeDisps=[r],void(i===t||(a||t.key===i.key)&&u(i,t)?(r.action=2,r.oldVN=i):(r.action=1,this.subNodesToRemove=[i]))}let c=this.oldVN.keyedSubNodes,h=c?c.size:0;this.subNodeDisps=new Array(t),this.subNodesToRemove=[],h!==i||a?0===h&&a?this.matchOldNonKeyedOnly(s,i,e,t,t>o):this.matchOldMixed(s,i,c,e,t,a,t>o):this.matchOldKeyedOnly(c,e,t,t>o),0===this.subNodesToRemove.length&&(this.subNodesToRemove=void 0)}matchOldKeyedOnly(e,t,s,i){let r,o,a,d,c,h;i&&(this.subNodeGroups=[]);for(let p=0;p<s;p++)a=t[p],r=this.subNodeDisps[p]=new l(a),void 0===(d=a.key)?c=1:void 0===(o=e.get(d))?c=1:(o===a||u(o,a)?(c=2,r.oldVN=o):(c=1,this.subNodesToRemove.push(o)),e.delete(d)),r.action=c,i&&(h||(h=new n(this,c,p),this.subNodeGroups.push(h)),c!==h.action?(h.last=p-1,h=new n(this,c,p),this.subNodeGroups.push(h)):2===c&&p>0&&this.subNodeDisps[p-1].oldVN!==o.prev&&(h.last=p-1,h=new n(this,c,p),this.subNodeGroups.push(h)));h&&(h.last=s-1),e.forEach(e=>this.subNodesToRemove.push(e))}matchOldNonKeyedOnly(e,t,s,i,r){let n,o,a,d=0;for(;d<i&&d<t;d++)a=s[d],n=this.subNodeDisps[d]=new l(a),(o=e[d])===a||u(o,a)?(n.action=2,n.oldVN=o):(n.action=1,this.subNodesToRemove.push(o));for(let e=d;e<i;e++)this.subNodeDisps[e]=new l(s[e],1);for(let s=d;s<t;s++)this.subNodesToRemove.push(e[s]);r&&this.buildSubNodeGroups()}matchOldMixed(e,t,s,i,r,n,o){let a,d,c,h,p=[];for(let e=0;e<r;e++)c=i[e],a=this.subNodeDisps[e]=new l(c),void 0===(h=c.key)?p.push(a):void 0===(d=s.get(h))?n?p.push(a):a.action=1:(d===c||u(d,c)?(a.action=2,a.oldVN=d):(a.action=1,this.subNodesToRemove.push(d)),s.delete(h));let f=0,m=0,v=p.length;for(;f<t&&m<v;)(void 0===(d=e[f++]).key||s.has(d.key))&&(c=(a=p[m++]).newVN,(n||void 0===d.key&&void 0===c.key)&&u(d,c)?(a.action=2,a.oldVN=d):(a.action=1,this.subNodesToRemove.push(d)));for(let e=m;e<v;e++)p[e].action=1;for(let i=f;i<t;i++)(void 0===(d=e[i]).key||s.has(d.key))&&this.subNodesToRemove.push(d);o&&this.buildSubNodeGroups()}buildSubNodeGroups(){let e=this.subNodeDisps.length;this.subNodeGroups=[];let t,s,i=new n(this,this.subNodeDisps[0].action,0);this.subNodeGroups.push(i);for(let r=1;r<e;r++)(t=(s=this.subNodeDisps[r]).action)!==i.action?(i.last=r-1,i=new n(this,t,r),this.subNodeGroups.push(i)):2===t&&this.subNodeDisps[r-1].oldVN!==s.oldVN.prev&&(i.last=r-1,i=new n(this,t,r),this.subNodeGroups.push(i));void 0!==i&&(i.last=e-1)}}function u(e,t){return e.type===t.type&&(void 0===e.isUpdatePossible||e.isUpdatePossible(t))}t.VNDisp=l},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});class i{constructor(){this.publishingVNs=new Set,this.subscribedVNs=new Set}}let r=new Map;t.notifyServicePublished=function(e,t){let s=r.get(e);void 0===s&&(s=new i,r.set(e,s)),s.publishingVNs.add(t);for(let t of s.subscribedVNs)t.notifyServiceChanged(e)},t.notifyServiceUnpublished=function(e,t){let s=r.get(e);if(void 0!==s)if(s.publishingVNs.delete(t),0===s.publishingVNs.size&&0===s.subscribedVNs.size)r.delete(e);else for(let t of s.subscribedVNs)t.notifyServiceChanged(e)},t.notifyServiceSubscribed=function(e,t){let s=r.get(e);void 0===s&&(s=new i,r.set(e,s)),s.subscribedVNs.add(t)},t.notifyServiceUnsubscribed=function(e,t){let s=r.get(e);void 0!==s&&(s.subscribedVNs.delete(t),0===s.publishingVNs.size&&0===s.subscribedVNs.size&&r.delete(e))}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=s(1),r=s(5);t.IndependentCompVN=class extends r.ClassCompVN{constructor(e){super(),this.type=1,this.comp=e}get name(){return this.comp.getDisplayName?this.comp.getDisplayName():this.comp.constructor.name}get key(){return this.comp}willMount(){this.willMountInstance(this.comp)}willUnmount(){this.willUnmountInstance(this.comp)}prepareUpdate(e){let t=e.comp,s=this.comp!==t;return s&&(this.willMountInstance(t),this.willUnmountInstance(this.comp),this.comp=t),i.VNUpdateDisp.getStockValue(!1,s)}willMountInstance(e){e.vn=this,e.willMount&&e.willMount()}willUnmountInstance(e){e.willUnmount&&e.willUnmount(),e.vn=void 0}}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=s(0),r=s(1),n=s(5);t.ManagedCompVN=class extends n.ClassCompVN{constructor(e,t,s){if(super(),this.type=2,this.compClass=e,this.props={},t){for(let e in t){let s=t[e];null!=s&&("key"===e?this.key=s:"ref"===e?this.ref=s:this.props[e]=s)}void 0===this.key&&(this.key=t.id)}this.props.children=s}get name(){if(this.comp&&this.comp.getDisplayName)return this.comp.getDisplayName();{let e=this.compClass.name;return null!=this.key&&(e+="@"+this.key),e}}willMount(){this.comp=new this.compClass(this.props),this.comp.vn=this,this.comp.willMount&&this.comp.willMount(),void 0!==this.ref&&i.setRef(this.ref,this.comp)}willUnmount(){void 0!==this.ref&&i.setRef(this.ref,void 0,this.comp),this.comp.willUnmount&&this.comp.willUnmount(),this.comp.vn=void 0,this.comp=void 0}isUpdatePossible(e){return this.compClass===e.compClass}prepareUpdate(e){let t=e,s=!0;return void 0!==this.comp.shouldUpdate&&(s=this.comp.shouldUpdate(t.props)),t.ref!==this.ref?(this.ref=t.ref,void 0!==this.ref&&i.setRef(this.ref,this.comp)):void 0===t.ref&&i.setRef(this.ref,void 0,this.comp),this.key=t.key,Object.keys(this.props).forEach(e=>delete this.props[e]),Object.assign(this.props,t.props),r.VNUpdateDisp.getStockValue(!1,s)}}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=s(0),r=s(1),n=s(2);t.FuncVN=class extends n.VNBase{static isVNaFragment(e){return e.func===i.Fragment}constructor(e,t,s){if(super(),this.type=3,this.func=e,this.props={},t){for(let e in t){let s=t[e];null!=s&&("key"===e?this.key=s:this.props[e]=s)}void 0===this.key&&(this.key=t.id)}this.props.children=s}get name(){let e=this.func.name;return null!=this.key&&(e+="@"+this.key),e}render(){return this.func(this.props)}isUpdatePossible(e){return this.func===e.func}prepareUpdate(e){let t=e;return this.key=t.key,this.func=t.func,this.props=t.props,r.VNUpdateDisp.NoCommitDoRender}}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=s(0),r=s(2),n=s(6),o=s(16),l=s(7),u=s(4),a=s(5);function d(e){return"function"==typeof e||Array.isArray(e)&&e.length>0&&"function"==typeof e[0]}function c(e,t){if("function"==typeof t)return{info:e,orgFunc:t};if(Array.isArray(t)){if(2===t.length)return"boolean"==typeof t[1]?{info:e,orgFunc:t[0],useCapture:t[1]}:{info:e,orgFunc:t[0],that:t[1]};if(3===t.length)return{info:e,orgFunc:t[0],that:t[1],useCapture:t[2]}}}t.ElmVN=class extends r.VNBase{constructor(e,t,s){super(),this.type=4,this.elmName=e,this.props=t,this.children=s,u.s_currentVN&&u.s_currentVN instanceof a.ClassCompVN&&(this.creator=u.s_currentVN.comp),t&&(this.key=t.key,void 0===this.key&&(this.key=t.id))}get name(){let e=this.elmName;return null!=this.key&&(e+="@"+this.key),e}get ownDN(){return this.elm}render(){return this.children}mount(){let e=o.SvgElms.getSvgElmInfo(this.elmName);return this.isSvg=void 0!==e&&(!0!==e||this.anchorDN.namespaceURI.endsWith("svg")),this.elm=this.isSvg?this.elm=document.createElementNS(o.SvgElms.namespace,o.SvgElms.getElmName(e,this.elmName)):this.elm=document.createElement(this.elmName),this.parseProps(),this.attrs&&this.addAttrs(),this.events&&this.addEvents(),this.customAttrs&&this.addCustomAttrs(),void 0!==this.ref&&i.setRef(this.ref,this.elm),this.elm}unmount(){void 0!==this.ref&&i.setRef(this.ref,void 0,this.elm),this.customAttrs&&this.removeCustomAttrs(!0),this.elm=null}isUpdatePossible(e){return this.elmName===e.elmName}prepareUpdate(e){let t=!l.deepCompare(this.props,e.props),s=this.children&&this.children.length>0||e.children&&e.children.length>0;return this.props=e.props,this.children=e.children,{shouldCommit:t,shouldRender:s}}commitUpdate(e){const t=e;t.parseProps(),t.ref!==this.ref&&(this.ref=t.ref,void 0!==this.ref&&i.setRef(this.ref,this.elm)),this.key=t.key,this.updateStrategy=t.updateStrategy,this.updateAttrs(t.attrs),this.updateEvents(t.events),this.updateCustomAttrs(t.customAttrs)}parseProps(){if(!this.props)return;let e,t,s;for(let i in this.props)if("key"!==i&&null!=(e=this.props[i]))if("ref"===i)this.ref=e;else if("updateStrategy"===i)this.updateStrategy=e;else if(1===(s=(t=n.ElmAttr.getPropertyInfo(i))?t.type:d(e)?2:1))this.attrs||(this.attrs={}),this.attrs[i]={info:t,val:e};else if(2===s){let s=c(t,e);s&&(this.events||(this.events={}),this.events[i]=s)}else this.customAttrs||(this.customAttrs={}),this.customAttrs[i]={info:t,val:e,handler:void 0}}addAttrs(){for(let e in this.attrs){let t=this.attrs[e];n.ElmAttr.setAttr(this.elm,e,t.info,t.val)}}updateAttrs(e){let t=this.elm,s=this.attrs;if(s)for(let i in s){let r=s[i],o=e?e[i]:void 0;o&&o.val?n.ElmAttr.updateAttr(t,i,r.info,r.val,o.val):n.ElmAttr.removeAttr(t,i,r.info)}if(e)for(let i in e){if(s&&i in s)continue;let r=e[i];n.ElmAttr.setAttr(t,i,r.info,r.val)}this.attrs=e}addEvents(){for(let e in this.events)this.addEvent(e,this.events[e])}addEvent(e,t){t.wrapper=this.createEventWrapper(t),this.elm.addEventListener(e,t.wrapper,t.useCapture)}removeEvent(e,t){this.elm.removeEventListener(e,t.wrapper,t.useCapture)}updateEvents(e){let t=this.events;if(t)for(let s in t){let i=t[s],r=e?e[s]:void 0;r?this.updateEvent(s,i,r):this.removeEvent(s,i)}if(e)for(let s in e)t&&s in t||this.addEvent(s,e[s]);this.events=e}updateEvent(e,t,s){return t.orgFunc===s.orgFunc&&t.that===s.that&&t.useCapture==s.useCapture?(s.wrapper=t.wrapper,!1):(this.elm.removeEventListener(e,t.wrapper,t.useCapture),s.wrapper=this.createEventWrapper(s),this.elm.addEventListener(e,s.wrapper,s.useCapture),!0)}createEventWrapper(e){return this.wrapCallback(e.orgFunc,e.that?e.that:this.creator)}addCustomAttrs(){for(let e in this.customAttrs){let t=this.customAttrs[e];try{t.handler=new t.info.handlerClass(this,t.val,e)}catch(t){console.error(`Error creating handler for custom attribute '${e}': ${t.message}`),delete this.customAttrs[e];continue}}}removeCustomAttrs(e){for(let t in this.customAttrs){let s=this.customAttrs[t];try{s.handler.terminate(e)}catch(e){console.error(`Error terminating handler for custom attribute '${t}': ${e.message}`)}}}updateCustomAttrs(e){let t=this.customAttrs;if(t)for(let s in t){const i=t[s],r=e?e[s]:void 0;if(r){try{i.handler.update(r.val)}catch(e){console.error(`Error updating handler for custom attribute '${s}': ${e.message}`)}r.handler=i.handler}else try{i.handler.terminate(!1)}catch(e){console.error(`Error terminating handler for custom attribute '${s}': ${e.message}`)}}if(e)for(let s in e){if(t&&s in t)continue;let i=e[s];try{i.handler=new i.info.handlerClass(this,i.val,s)}catch(t){console.error(`Error creating handler for custom attribute '${s}': ${t.message}`),delete e[s];continue}}this.customAttrs=e}}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});class i{static register(e,t){i.infos[e]=t}static isSvgElm(e){return e in i.infos}static getSvgElmInfo(e){return i.infos[e]}static isDualPurpose(e){return Array.isArray(e)?e.length>1&&e[1]:"string"!=typeof e&&e}static isTagDualPurpose(e){let t=i.infos[e];return!!t&&i.isDualPurpose(t)}static getElmName(e,t){return Array.isArray(e)?e.length>0?e[0]:t:"string"==typeof e?e:t}static getElmNameForTag(e){let t=i.infos[e];return t?i.getElmName(t,e):e}}i.namespace="http://www.w3.org/2000/svg",i.infos={svg:!1,a:!0,animate:!1,animateMotion:!1,animateTransform:!1,circle:!1,clipPath:!1,colorProfile:"color-profile",defs:!1,desc:!1,discard:!1,ellipse:!1,feBlend:!1,feColorMatrix:!1,feComponentTransfer:!1,feComposite:!1,feConvolveMatrix:!1,feDiffuseLighting:!1,feDisplacementMap:!1,feDistantLight:!1,feDropShadow:!1,feFlood:!1,feFuncA:!1,feFuncB:!1,feFuncG:!1,feFuncR:!1,feGaussianBlur:!1,feImage:!1,feMerge:!1,feMergeNode:!1,feMorphology:!1,feOffset:!1,fePointLight:!1,feSpecularLighting:!1,feSpotLight:!1,feTile:!1,feTurbulence:!1,filter:!1,foreignObject:!1,g:!1,hatch:!1,hatchpath:!1,image:!1,line:!1,linearGradient:!1,marker:!1,mask:!1,metadata:!1,mpath:!1,path:!1,pattern:!1,polygon:!1,polyline:!1,radialGradient:!1,rect:!1,script:!0,set:!1,solidcolor:!1,stop:!1,style:!0,switch:!1,symbol:!1,text:!1,textPath:!1,title:!0,textSpan:!1,use:!1,view:!1},t.SvgElms=i},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=s(1),r=s(2);t.TextVN=class extends r.VNBase{constructor(e){super(),this.type=5,this.text=e}get name(){return"#text"}get ownDN(){return this.textNode}mount(){return this.textNode=document.createTextNode(this.text)}unmount(){this.textNode=void 0}prepareUpdate(e){return i.VNUpdateDisp.getStockValue(this.text!==e.text,!1)}commitUpdate(e){this.textNode.nodeValue=this.text=e.text}}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=s(4),r=s(2),n=s(19);class o extends r.VNBase{constructor(e){super(),this.thrownPromises=new Set,this.type=0,this.anchorDN=e,this.depth=0}get name(){return"Root"}setContent(e,t){this.content=e,t?i.updateNodeSync(this):i.requestNodeUpdate(this)}render(){return this.errorUI?this.errorUI:this.waitingUI?this.waitingUI:this.content}willMount(){this.publishService("StdErrorHandling",this)}willUnmount(){this.unpublishService("StdErrorHandling")}supportsErrorHandling(){return!0}handleError(e,t){if(e instanceof Promise){let t=e;this.thrownPromises.add(t),t.then(()=>{this.onPromiseFulfilled(t)}),t.catch(()=>{this.onPromiseFulfilled(t)}),this.waitingUI||(this.waitingUI=new n.RootWaitingUI)}else this.errorUI=new n.RootErrorUI(this,e,t)}restart(){this.errorUI=void 0,i.requestNodeUpdate(this)}reportError(e,t){this.handleError(e,t),i.requestNodeUpdate(this)}onPromiseFulfilled(e){this.thrownPromises.delete(e),0===this.thrownPromises.size&&(this.waitingUI=null,i.requestNodeUpdate(this))}}t.RootVN=o;let l="__mimblAnchorPropName__";t.mountRootSync=function(e,t){let s=t||document.body,i=s[l];i||(i=new o(s),s[l]=i),i.setContent(e,!0)},t.unmountRootSync=function(e){let t=e||document.body;if(!t)return;let s=t[l];s&&(delete t[l],s.setContent(null,!0),s.term())},t.mountRoot=function(e,t){let s=t||document.body,i=s[l];i||(i=new o(s),s[l]=i),i.setContent(e,!1)},t.unmountRoot=function(e){let t=e||document.body;if(!t)return;let s=t[l];s&&(delete t[l],s.setContent(null,!1),s.scheduleCall(()=>s.willUnmount()))}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=s(0);t.RootErrorUI=class extends i.Component{constructor(e,t,s){super(),this.onRestart=()=>{this.rootVN.restart()},this.rootVN=e,this.err=t,this.pathString=s?s.join(" → "):""}render(){return i.jsx("div",{id:"rootError",style:{display:"flex",flexDirection:"column",alignItems:"start"}},i.jsx("div",null,this.err.message),i.jsx("div",null,this.pathString),i.jsx("hr",{style:{width:"100%"}}),i.jsx("button",{click:this.onRestart},"Restart"))}},t.RootWaitingUI=class extends i.Component{render(){return"Loading ..."}}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=s(0);t.ComponentWithLocalStyles=class extends i.Component{constructor(e=null){super(e),this.m_uniqueID=Math.floor(1e9*Math.random()).toString(),this.rules=new Map,this.ruleNames=[],this.styleElm=document.createElement("style"),this.styleElm.id=this.m_uniqueID,document.head.appendChild(this.styleElm)}get uniqueID(){return this.m_uniqueID}decorateName(e){return e+this.m_uniqueID}createStyleRule(e,t,s){let i=this.createDummyRule(e,"dummy {}"),r=i.cssomRule,o=new n(this.uniqueID,r);return t&&o.setSelector(t),s&&o.setProperties(s),i.mcssRule=o,o}getRule(e){let t=this.rules.get(e);return void 0===t?void 0:t.mcssRule}removeRule(e){}willMount(){this.vn.publishService("LocalStyles",this)}willUnmount(){this.vn.unpublishService("LocalStyles"),this.styleElm.remove()}createDummyRule(e,t){let s=this.rules.get(e);void 0!==s&&this.removeRule(e);let i=this.ruleNames.length,r=this.styleElm.sheet;r.insertRule(t,i);let n=r.rules[i];return this.ruleNames.push(e),s={mcssRule:null,cssomRule:n,index:i},this.rules.set(e,s),s}};class r{constructor(e,t){this.uniqueID=e,this.cssomRule=t}decorate(e){return e+this.uniqueID}replace(e){return e.replace("(*)",this.uniqueID)}}class n extends r{constructor(e,t){super(e,t)}setSelector(e){this.cssomRule.selectorText=this.replace(e)}setProperty(e,t,s){this.cssomRule.style.setProperty(this.replace(e),this.replace(t),s?"important":void 0)}setProperties(e){if(e)for(let t in e)this.cssomRule.style[this.replace(t)]=this.replace(e[t])}removeProperty(e){this.cssomRule.style.removeProperty(this.replace(e))}}}])},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=s(0),r=s(2),n=s(3);class o extends i.Component{constructor(){super(),this.store=new r.Store,this.tbody=new n.TBody(this),window.app=this}run(){this.tbody.run()}add(){this.tbody.add()}update(){this.tbody.update()}runLots(){this.tbody.runLots()}clear(){this.tbody.clear(),this.tbody=new n.TBody(this),this.updateMe()}swapRows(){this.tbody.swapRows()}onSelectRowClicked(e){this.tbody.onSelectRowClicked(e)}onDeleteRowClicked(e){this.tbody.onDeleteRowClicked(e)}render(){return i.jsx("div",{class:"container"},i.jsx("div",{class:"jumbotron"},i.jsx("div",{class:"row"},i.jsx("div",{class:"col-md-6"},i.jsx("h1",null,"Mimbl (keyed)")),i.jsx("div",{class:"col-md-6"},i.jsx("div",{class:"row"},i.jsx("div",{class:"col-sm-6 smallpad"},i.jsx("button",{type:"button",class:"btn btn-primary btn-block",id:"run",click:this.run},"Create 1,000 rows")),i.jsx("div",{class:"col-sm-6 smallpad"},i.jsx("button",{type:"button",class:"btn btn-primary btn-block",id:"runlots",click:this.runLots},"Create 10,000 rows")),i.jsx("div",{class:"col-sm-6 smallpad"},i.jsx("button",{type:"button",class:"btn btn-primary btn-block",id:"add",click:this.add},"Append 1,000 rows")),i.jsx("div",{class:"col-sm-6 smallpad"},i.jsx("button",{type:"button",class:"btn btn-primary btn-block",id:"update",click:this.update},"Update every 10th row")),i.jsx("div",{class:"col-sm-6 smallpad"},i.jsx("button",{type:"button",class:"btn btn-primary btn-block",id:"clear",click:this.clear},"Clear")),i.jsx("div",{class:"col-sm-6 smallpad"},i.jsx("button",{type:"button",class:"btn btn-primary btn-block",id:"swaprows",click:this.swapRows},"Swap Rows")))))),i.jsx("table",{class:"table table-hover table-striped test-data",updateStrategy:{allowKeyedNodeRecycling:!1}},this.tbody),i.jsx("span",{class:"preloadicon glyphicon glyphicon-remove","aria-hidden":"true"}))}}t.Main=o,i.mount(i.jsx(o,null),document.getElementById("main"))},function(e,t,s){"use strict";function i(e){return Math.round(1e3*Math.random())%e}s.r(t),s.d(t,"Store",function(){return r});class r{constructor(){this.data=[],this.selected=void 0,this.id=1}buildData(e=1e3){for(var t=["pretty","large","big","small","tall","short","long","handsome","plain","quaint","clean","elegant","easy","angry","crazy","helpful","mushy","odd","unsightly","adorable","important","inexpensive","cheap","expensive","fancy"],s=["red","yellow","blue","green","pink","brown","purple","brown","white","black","orange"],r=["table","chair","house","bbq","desk","car","pony","cookie","sandwich","burger","pizza","mouse","keyboard"],n=[],o=0;o<e;o++)n.push({id:this.id++,label:t[i(t.length)]+" "+s[i(s.length)]+" "+r[i(r.length)]});return n}updateData(e=10){for(let t=0;t<this.data.length;t+=e)this.data[t]=Object.assign({},this.data[t],{label:this.data[t].label+" !!!"})}delete(e){var t=this.data.findIndex(t=>t.id===e);this.data.splice(t,1),this.selected===e&&(this.selected=void 0)}deleteByIndex(e){this.data.splice(e,1)}run(){this.data=this.buildData(),this.selected=void 0}add(){var e=this.buildData(1e3);return this.data=this.data.concat(e),e}update(){this.updateData()}select(e){this.selected=e}runLots(){this.data=this.buildData(1e4),this.selected=void 0}clear(){this.data=[],this.selected=void 0}swapRows(e,t){if(this.data.length>e&&this.data.length>t){var s=this.data[e];this.data[e]=this.data[t],this.data[t]=s}}}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=s(0),r=s(4);t.TBody=class extends i.Component{constructor(e){super(),this.main=e,this.store=e.store,this.rows=[]}run(){this.store.run(),this.selectedRow=void 0,this.rows=this.store.data.map(e=>new r.Row(this.main,e.id,e.label)),this.updateMe()}add(){this.store.add().forEach(e=>this.rows.push(new r.Row(this.main,e.id,e.label))),this.updateMe()}update(){this.store.update(),this.store.data.forEach((e,t)=>this.rows[t].setItem(e.label,this.store.selected))}runLots(){this.store.runLots(),this.selectedRow=void 0,this.rows=this.store.data.map(e=>new r.Row(this.main,e.id,e.label)),this.updateMe()}clear(){this.store.clear(),this.selectedRow=void 0,this.rows=[]}swapRows(){if(this.rows.length>998){this.store.swapRows(1,998);let e=this.rows[1];this.rows[1]=this.rows[998],this.rows[998]=e,this.updateMe()}}onSelectRowClicked(e){this.store.select(e.id),this.selectedRow&&this.selectedRow!==e&&this.selectedRow.select(!1),this.selectedRow=e}onDeleteRowClicked(e){this.store.delete(e.id);let t=this.rows.indexOf(e);this.rows.splice(t,1),this.selectedRow===e&&(this.selectedRow=void 0),this.updateMe()}render(){return i.jsx("tbody",{updateStrategy:{allowKeyedNodeRecycling:!1}},this.rows)}}},function(e,t,s){"use strict";var i=this&&this.__decorate||function(e,t,s,i){var r,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,s):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,s,i);else for(var l=e.length-1;l>=0;l--)(r=e[l])&&(o=(n<3?r(o):n>3?r(t,s,o):r(t,s))||o);return n>3&&o&&Object.defineProperty(t,s,o),o};Object.defineProperty(t,"__esModule",{value:!0});const r=s(0);class n extends r.Component{constructor(e,t,s){super(),this.main=e,this.id=t,this.label=s,this.selected=!1}setItem(e,t){this.label=e,this.selected=this.id===t}select(e){this.selected=e}onDeleteClicked(){this.main.onDeleteRowClicked(this)}onSelectClicked(){this.selected||(this.selected=!0,this.main.onSelectRowClicked(this))}render(){return r.jsx("tr",{class:this.selected?"danger":void 0},r.jsx("td",{class:"col-md-1"},this.id),r.jsx("td",{class:"col-md-4"},r.jsx("a",{click:this.onSelectClicked},this.label)),r.jsx("td",{class:"col-md-1"},r.jsx("a",{click:this.onDeleteClicked},r.jsx("span",{class:"glyphicon glyphicon-remove","aria-hidden":"true"}))),r.jsx("td",{class:"col-md-6"}))}}i([r.updatable],n.prototype,"label",void 0),i([r.updatable],n.prototype,"selected",void 0),t.Row=n}])});
//# sourceMappingURL=main.js.map